# abs_worker Configuration Example
# Copy this file to .env and update with your actual values

# ============================================================================
# REQUIRED SETTINGS (No defaults - must be configured)
# ============================================================================

# Certificate Storage Path
# Directory where generated certificates (JSON and PDF) will be stored
# Will be auto-created if it doesn't exist
CERTIFICATE_STORAGE_PATH=/var/abs_notary/certificates

# Signing Key Path
# Path to ECDSA private key file for certificate signing
# File must exist and have secure permissions (600 or 400)
# Generate with: openssl ecparam -name secp256k1 -genkey -noout -out signing_key.pem
CERTIFICATE_SIGNING_KEY_PATH=/etc/abs_notary/signing_key.pem

# ============================================================================
# BLOCKCHAIN SETTINGS (Optional - defaults shown)
# ============================================================================

# Number of block confirmations required for transaction finality
# Higher values = more secure but slower
# BLOCKCHAIN_REQUIRED_CONFIRMATIONS=6

# Seconds to wait between blockchain polling attempts
# BLOCKCHAIN_POLL_INTERVAL=2

# Maximum number of polling attempts before timing out
# BLOCKCHAIN_MAX_POLL_ATTEMPTS=100

# Maximum total seconds to wait for transaction confirmation
# BLOCKCHAIN_MAX_CONFIRMATION_WAIT=600

# ============================================================================
# RETRY SETTINGS (Optional - defaults shown)
# ============================================================================

# Maximum number of retry attempts for failed operations
# RETRY_MAX_RETRIES=3

# Initial delay in seconds before first retry
# RETRY_RETRY_DELAY=5

# Multiplier for exponential backoff between retries
# Example: delay=5, multiplier=2.0 â†’ retries at 5s, 10s, 20s
# RETRY_BACKOFF_MULTIPLIER=2.0

# ============================================================================
# WORKER SETTINGS (Optional - defaults shown)
# ============================================================================

# Maximum seconds for a single worker task before timeout
# WORKER_TIMEOUT=300

# Maximum number of concurrent worker tasks
# Adjust based on your server capacity and load
# WORKER_MAX_CONCURRENT_TASKS=10

# ============================================================================
# APPLICATION SETTINGS (Optional - defaults shown)
# ============================================================================

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# LOG_LEVEL=INFO

# Application environment: development, staging, production
# ENVIRONMENT=development

# ============================================================================
# EXAMPLE CONFIGURATIONS
# ============================================================================

# Development (Local)
# CERTIFICATE_STORAGE_PATH=./tmp/certificates
# CERTIFICATE_SIGNING_KEY_PATH=./keys/dev_signing_key.pem
# LOG_LEVEL=DEBUG
# ENVIRONMENT=development

# Production
# CERTIFICATE_STORAGE_PATH=/var/abs_notary/certificates
# CERTIFICATE_SIGNING_KEY_PATH=/etc/abs_notary/signing_key.pem
# LOG_LEVEL=INFO
# ENVIRONMENT=production
# BLOCKCHAIN_REQUIRED_CONFIRMATIONS=12
# WORKER_MAX_CONCURRENT_TASKS=50
